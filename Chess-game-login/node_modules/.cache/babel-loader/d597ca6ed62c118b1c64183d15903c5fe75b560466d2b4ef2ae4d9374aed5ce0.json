{"ast":null,"code":"const isValidMove = (piece, fromRow, fromCol, toRow, toCol, board, isWhiteTurn) => {\n  if (!piece) return false;\n  const dx = toCol - fromCol;\n  const dy = toRow - fromRow;\n  if (fromRow === toRow && fromCol === toCol) return false; // KhÃ´ng di chuyá»ƒn Ä‘áº¿n vá»‹ trÃ­ hiá»‡n táº¡i\n\n  const isWhite = \"â™™â™–â™˜â™—â™•â™”\".includes(piece); // Kiá»ƒm tra quÃ¢n tráº¯ng hay Ä‘en\n  if (isWhite !== isWhiteTurn) return false; // Kiá»ƒm tra lÆ°á»£t Ä‘i há»£p lá»‡\n\n  const targetPiece = board[toRow][toCol];\n\n  // KhÃ´ng Äƒn quÃ¢n cÃ¹ng mÃ u (ÄÃƒ Sá»¬A: kiá»ƒm tra Ä‘Ãºng quÃ¢n tráº¯ng vÃ  Ä‘en)\n  if (targetPiece && \"â™™â™–â™˜â™—â™•â™”\".includes(targetPiece) === isWhite) return false;\n  switch (piece) {\n    case \"â™™\":\n      return isValidPawnMove(fromRow, fromCol, toRow, toCol, board, true);\n    case \"â™Ÿ\":\n      return isValidPawnMove(fromRow, fromCol, toRow, toCol, board, false);\n    case \"â™–\":\n    case \"â™œ\":\n      return isValidRookMove(fromRow, fromCol, toRow, toCol, board);\n    case \"â™˜\":\n    case \"â™ž\":\n      return isValidKnightMove(dx, dy);\n    case \"â™—\":\n    case \"â™\":\n      return isValidBishopMove(fromRow, fromCol, toRow, toCol, board);\n    case \"â™•\":\n    case \"â™›\":\n      return isValidQueenMove(fromRow, fromCol, toRow, toCol, board);\n    case \"â™”\":\n    case \"â™š\":\n      return isValidKingMove(dx, dy);\n    default:\n      return false;\n  }\n};\n\n// ðŸ›  **QuÃ¢n tá»‘t (Pawn) - ÄÃƒ Sá»¬A lá»—i quÃ¢n Ä‘en khÃ´ng thá»ƒ di chuyá»ƒn**\nconst isValidPawnMove = (fromRow, fromCol, toRow, toCol, board, isWhite) => {\n  const direction = isWhite ? -1 : 1; // QuÃ¢n tráº¯ng Ä‘i lÃªn (-1), quÃ¢n Ä‘en Ä‘i xuá»‘ng (+1)\n  const startRow = isWhite ? 6 : 1; // Vá»‹ trÃ­ ban Ä‘áº§u cá»§a quÃ¢n tá»‘t\n  const dy = toRow - fromRow;\n  const dx = Math.abs(toCol - fromCol);\n  if (dx === 0) {\n    if (dy === direction && !board[toRow][toCol]) return true; // Äi tháº³ng 1 Ã´\n    if (fromRow === startRow && dy === 2 * direction && !board[toRow][toCol] && !board[fromRow + direction][toCol]) return true; // Äi tháº³ng 2 Ã´\n  }\n\n  // Ä‚n quÃ¢n chÃ©o 1 Ã´ (ÄÃƒ Sá»¬A)\n  if (dx === 1 && dy === direction && board[toRow][toCol] && \"â™™â™–â™˜â™—â™•â™”â™Ÿâ™œâ™žâ™â™›â™š\".includes(board[toRow][toCol])) return true;\n  return false;\n};\n\n// ðŸ›  **Xe (Rook) - ÄÃ£ sá»­a lá»—i kiá»ƒm tra cháº·n Ä‘Æ°á»ng**\nconst isValidRookMove = (fromRow, fromCol, toRow, toCol, board) => {\n  if (fromRow !== toRow && fromCol !== toCol) return false;\n  return isPathClear(fromRow, fromCol, toRow, toCol, board);\n};\n\n// ðŸ›  **MÃ£ (Knight) - Hoáº¡t Ä‘á»™ng Ä‘Ãºng**\nconst isValidKnightMove = (dx, dy) => {\n  return Math.abs(dx) === 2 && Math.abs(dy) === 1 || Math.abs(dx) === 1 && Math.abs(dy) === 2;\n};\n\n// ðŸ›  **TÆ°á»£ng (Bishop) - ÄÃ£ sá»­a lá»—i Ä‘Æ°á»ng chÃ©o**\nconst isValidBishopMove = (fromRow, fromCol, toRow, toCol, board) => {\n  if (Math.abs(fromRow - toRow) !== Math.abs(fromCol - toCol)) return false;\n  return isPathClear(fromRow, fromCol, toRow, toCol, board);\n};\n\n// ðŸ›  **Háº­u (Queen) - ÄÃ£ sá»­a lá»—i kiá»ƒm tra cháº·n Ä‘Æ°á»ng**\nconst isValidQueenMove = (fromRow, fromCol, toRow, toCol, board) => {\n  return isValidRookMove(fromRow, fromCol, toRow, toCol, board) || isValidBishopMove(fromRow, fromCol, toRow, toCol, board);\n};\n\n// ðŸ›  **Vua (King) - ÄÃ£ sá»­a lá»—i Ä‘i chÃ©o 1 Ã´**\nconst isValidKingMove = (dx, dy) => {\n  return Math.abs(dx) <= 1 && Math.abs(dy) <= 1;\n};\n\n// ðŸ›  **Kiá»ƒm tra Ä‘Æ°á»ng Ä‘i cÃ³ bá»‹ cháº·n khÃ´ng (Rook, Bishop, Queen)**\nconst isPathClear = (fromRow, fromCol, toRow, toCol, board) => {\n  const dx = Math.sign(toCol - fromCol);\n  const dy = Math.sign(toRow - fromRow);\n  let x = fromCol + dx;\n  let y = fromRow + dy;\n  while (x !== toCol || y !== toRow) {\n    if (board[y][x]) return false;\n    x += dx;\n    y += dy;\n  }\n  return true;\n};\n\n// ðŸ›  **Kiá»ƒm tra náº¿u vua bá»‹ Äƒn - ÄÃ£ tá»‘i Æ°u**\nconst checkGameOver = board => {\n  let whiteKingExists = false;\n  let blackKingExists = false;\n  for (let row of board) {\n    for (let piece of row) {\n      if (piece === \"â™”\") whiteKingExists = true;\n      if (piece === \"â™š\") blackKingExists = true;\n    }\n  }\n  if (!whiteKingExists) return \"Black wins!\";\n  if (!blackKingExists) return \"White wins!\";\n  return null;\n};\n\n// ðŸ›  **Xuáº¥t táº¥t cáº£ cÃ¡c hÃ m**\nexport { isValidMove, checkGameOver };","map":{"version":3,"names":["isValidMove","piece","fromRow","fromCol","toRow","toCol","board","isWhiteTurn","dx","dy","isWhite","includes","targetPiece","isValidPawnMove","isValidRookMove","isValidKnightMove","isValidBishopMove","isValidQueenMove","isValidKingMove","direction","startRow","Math","abs","isPathClear","sign","x","y","checkGameOver","whiteKingExists","blackKingExists","row"],"sources":["/root/se06206-final-thaydong-nhom1/Chess-game-login/src/utils/moveRules.js"],"sourcesContent":["const isValidMove = (piece, fromRow, fromCol, toRow, toCol, board, isWhiteTurn) => {\n  if (!piece) return false;\n\n  const dx = toCol - fromCol;\n  const dy = toRow - fromRow;\n\n  if (fromRow === toRow && fromCol === toCol) return false; // KhÃ´ng di chuyá»ƒn Ä‘áº¿n vá»‹ trÃ­ hiá»‡n táº¡i\n\n  const isWhite = \"â™™â™–â™˜â™—â™•â™”\".includes(piece); // Kiá»ƒm tra quÃ¢n tráº¯ng hay Ä‘en\n  if (isWhite !== isWhiteTurn) return false; // Kiá»ƒm tra lÆ°á»£t Ä‘i há»£p lá»‡\n\n  const targetPiece = board[toRow][toCol];\n\n  // KhÃ´ng Äƒn quÃ¢n cÃ¹ng mÃ u (ÄÃƒ Sá»¬A: kiá»ƒm tra Ä‘Ãºng quÃ¢n tráº¯ng vÃ  Ä‘en)\n  if (targetPiece && \"â™™â™–â™˜â™—â™•â™”\".includes(targetPiece) === isWhite) return false;\n\n  switch (piece) {\n    case \"â™™\": return isValidPawnMove(fromRow, fromCol, toRow, toCol, board, true);\n    case \"â™Ÿ\": return isValidPawnMove(fromRow, fromCol, toRow, toCol, board, false);\n    case \"â™–\": case \"â™œ\": return isValidRookMove(fromRow, fromCol, toRow, toCol, board);\n    case \"â™˜\": case \"â™ž\": return isValidKnightMove(dx, dy);\n    case \"â™—\": case \"â™\": return isValidBishopMove(fromRow, fromCol, toRow, toCol, board);\n    case \"â™•\": case \"â™›\": return isValidQueenMove(fromRow, fromCol, toRow, toCol, board);\n    case \"â™”\": case \"â™š\": return isValidKingMove(dx, dy);\n    default: return false;\n  }\n};\n\n// ðŸ›  **QuÃ¢n tá»‘t (Pawn) - ÄÃƒ Sá»¬A lá»—i quÃ¢n Ä‘en khÃ´ng thá»ƒ di chuyá»ƒn**\nconst isValidPawnMove = (fromRow, fromCol, toRow, toCol, board, isWhite) => {\n  const direction = isWhite ? -1 : 1; // QuÃ¢n tráº¯ng Ä‘i lÃªn (-1), quÃ¢n Ä‘en Ä‘i xuá»‘ng (+1)\n  const startRow = isWhite ? 6 : 1; // Vá»‹ trÃ­ ban Ä‘áº§u cá»§a quÃ¢n tá»‘t\n  const dy = toRow - fromRow;\n  const dx = Math.abs(toCol - fromCol);\n\n  if (dx === 0) {\n    if (dy === direction && !board[toRow][toCol]) return true; // Äi tháº³ng 1 Ã´\n    if (fromRow === startRow && dy === 2 * direction && !board[toRow][toCol] && !board[fromRow + direction][toCol]) return true; // Äi tháº³ng 2 Ã´\n  }\n\n  // Ä‚n quÃ¢n chÃ©o 1 Ã´ (ÄÃƒ Sá»¬A)\n  if (dx === 1 && dy === direction && board[toRow][toCol] && \"â™™â™–â™˜â™—â™•â™”â™Ÿâ™œâ™žâ™â™›â™š\".includes(board[toRow][toCol])) return true;\n\n  return false;\n};\n\n// ðŸ›  **Xe (Rook) - ÄÃ£ sá»­a lá»—i kiá»ƒm tra cháº·n Ä‘Æ°á»ng**\nconst isValidRookMove = (fromRow, fromCol, toRow, toCol, board) => {\n  if (fromRow !== toRow && fromCol !== toCol) return false;\n  return isPathClear(fromRow, fromCol, toRow, toCol, board);\n};\n\n// ðŸ›  **MÃ£ (Knight) - Hoáº¡t Ä‘á»™ng Ä‘Ãºng**\nconst isValidKnightMove = (dx, dy) => {\n  return (Math.abs(dx) === 2 && Math.abs(dy) === 1) || (Math.abs(dx) === 1 && Math.abs(dy) === 2);\n};\n\n// ðŸ›  **TÆ°á»£ng (Bishop) - ÄÃ£ sá»­a lá»—i Ä‘Æ°á»ng chÃ©o**\nconst isValidBishopMove = (fromRow, fromCol, toRow, toCol, board) => {\n  if (Math.abs(fromRow - toRow) !== Math.abs(fromCol - toCol)) return false;\n  return isPathClear(fromRow, fromCol, toRow, toCol, board);\n};\n\n// ðŸ›  **Háº­u (Queen) - ÄÃ£ sá»­a lá»—i kiá»ƒm tra cháº·n Ä‘Æ°á»ng**\nconst isValidQueenMove = (fromRow, fromCol, toRow, toCol, board) => {\n  return (\n    isValidRookMove(fromRow, fromCol, toRow, toCol, board) ||\n    isValidBishopMove(fromRow, fromCol, toRow, toCol, board)\n  );\n};\n\n// ðŸ›  **Vua (King) - ÄÃ£ sá»­a lá»—i Ä‘i chÃ©o 1 Ã´**\nconst isValidKingMove = (dx, dy) => {\n  return Math.abs(dx) <= 1 && Math.abs(dy) <= 1;\n};\n\n// ðŸ›  **Kiá»ƒm tra Ä‘Æ°á»ng Ä‘i cÃ³ bá»‹ cháº·n khÃ´ng (Rook, Bishop, Queen)**\nconst isPathClear = (fromRow, fromCol, toRow, toCol, board) => {\n  const dx = Math.sign(toCol - fromCol);\n  const dy = Math.sign(toRow - fromRow);\n  let x = fromCol + dx;\n  let y = fromRow + dy;\n\n  while (x !== toCol || y !== toRow) {\n    if (board[y][x]) return false;\n    x += dx;\n    y += dy;\n  }\n  return true;\n};\n\n// ðŸ›  **Kiá»ƒm tra náº¿u vua bá»‹ Äƒn - ÄÃ£ tá»‘i Æ°u**\nconst checkGameOver = (board) => {\n  let whiteKingExists = false;\n  let blackKingExists = false;\n\n  for (let row of board) {\n    for (let piece of row) {\n      if (piece === \"â™”\") whiteKingExists = true;\n      if (piece === \"â™š\") blackKingExists = true;\n    }\n  }\n\n  if (!whiteKingExists) return \"Black wins!\";\n  if (!blackKingExists) return \"White wins!\";\n  return null;\n};\n\n// ðŸ›  **Xuáº¥t táº¥t cáº£ cÃ¡c hÃ m**\nexport { isValidMove, checkGameOver };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}