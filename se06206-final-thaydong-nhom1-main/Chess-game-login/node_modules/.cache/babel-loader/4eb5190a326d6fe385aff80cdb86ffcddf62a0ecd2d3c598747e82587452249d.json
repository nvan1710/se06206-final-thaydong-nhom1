{"ast":null,"code":"export const getValidMoves = (piece, row, col, board) => {\n  let validMoves = [];\n  const isWhite = \"‚ôô‚ôñ‚ôò‚ôó‚ôï‚ôî\".includes(piece); // X√°c ƒë·ªãnh m√†u qu√¢n c·ªù\n\n  switch (piece) {\n    case \"‚ôô\":\n    case \"‚ôü\":\n      // T·ªët\n      validMoves = getPawnMoves(row, col, board, isWhite);\n      break;\n    case \"‚ôñ\":\n    case \"‚ôú\":\n      // Xe\n      validMoves = getRookMoves(row, col, board, isWhite);\n      break;\n    case \"‚ôò\":\n    case \"‚ôû\":\n      // M√£\n      validMoves = getKnightMoves(row, col, board);\n      break;\n    case \"‚ôó\":\n    case \"‚ôù\":\n      // T∆∞·ª£ng\n      validMoves = getBishopMoves(row, col, board, isWhite);\n      break;\n    case \"‚ôï\":\n    case \"‚ôõ\":\n      // H·∫≠u\n      validMoves = getQueenMoves(row, col, board, isWhite); // üî• S·ª≠ d·ª•ng getQueenMoves\n      break;\n    case \"‚ôî\":\n    case \"‚ôö\":\n      // Vua\n      validMoves = getKingMoves(row, col, board, isWhite);\n      break;\n  }\n  return validMoves;\n};\n\n// ‚úÖ Ki·ªÉm tra qu√¢n ƒë·ªãch\nconst isOpponent = (piece, targetPiece) => {\n  return targetPiece && \"‚ôô‚ôñ‚ôò‚ôó‚ôï‚ôî\".includes(piece) !== \"‚ôô‚ôñ‚ôò‚ôó‚ôï‚ôî\".includes(targetPiece);\n};\n\n// ‚úÖ X·ª≠ l√Ω n∆∞·ªõc ƒëi c·ªßa T·ªët\nconst getPawnMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const direction = isWhite ? -1 : 1;\n  const startRow = isWhite ? 6 : 1;\n  const endRow = isWhite ? 0 : 7;\n\n  // ƒêi th·∫≥ng\n  if (!board[row + direction][col]) {\n    moves.push({\n      row: row + direction,\n      col,\n      promote: row + direction === endRow\n    });\n\n    // N·∫øu l√† n∆∞·ªõc ƒëi ƒë·∫ßu ti√™n, c√≥ th·ªÉ ƒëi 2 √¥\n    if (row === startRow && !board[row + 2 * direction][col]) {\n      moves.push({\n        row: row + 2 * direction,\n        col\n      });\n    }\n  }\n\n  // ƒÇn ch√©o\n  if (col > 0 && isOpponent(board[row][col], board[row + direction][col - 1])) {\n    moves.push({\n      row: row + direction,\n      col: col - 1,\n      promote: row + direction === endRow\n    });\n  }\n  if (col < 7 && isOpponent(board[row][col], board[row + direction][col + 1])) {\n    moves.push({\n      row: row + direction,\n      col: col + 1,\n      promote: row + direction === endRow\n    });\n  }\n  return moves;\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn Xe\nconst getRookMoves = (row, col, board, isWhite) => {\n  return getLinearMoves(row, col, board, [[-1, 0], [1, 0], [0, -1], [0, 1]]);\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn T∆∞·ª£ng\nconst getBishopMoves = (row, col, board, isWhite) => {\n  return getLinearMoves(row, col, board, [[-1, -1], [-1, 1], [1, -1], [1, 1]]);\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn H·∫≠u\nconst getQueenMoves = (row, col, board, isWhite) => {\n  return [...getRookMoves(row, col, board, isWhite), ...getBishopMoves(row, col, board, isWhite)];\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn M√£\nconst getKnightMoves = (row, col, board) => {\n  const moves = [];\n  const knightMoves = [[-2, -1], [-2, 1], [2, -1], [2, 1], [-1, -2], [-1, 2], [1, -2], [1, 2]];\n  knightMoves.forEach(([dr, dc]) => {\n    const r = row + dr,\n      c = col + dc;\n    if (r >= 0 && r < 8 && c >= 0 && c < 8 && (!board[r][c] || isOpponent(board[row][col], board[r][c]))) {\n      moves.push({\n        row: r,\n        col: c\n      });\n    }\n  });\n  return moves;\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn Vua (bao g·ªìm ki·ªÉm tra n∆∞·ªõc ƒëi)\nconst getKingMoves = (row, col, board, isWhite) => {\n  const moves = [];\n  const kingMoves = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n  kingMoves.forEach(([dr, dc]) => {\n    const r = row + dr,\n      c = col + dc;\n    if (r >= 0 && r < 8 && c >= 0 && c < 8 && (!board[r][c] || isOpponent(board[row][col], board[r][c]))) {\n      moves.push({\n        row: r,\n        col: c\n      });\n    }\n  });\n  return moves;\n};\n\n// ‚úÖ X·ª≠ l√Ω n∆∞·ªõc ƒëi theo ƒë∆∞·ªùng th·∫≥ng (Xe, T∆∞·ª£ng, H·∫≠u)\nconst getLinearMoves = (row, col, board, directions) => {\n  const moves = [];\n  directions.forEach(([dr, dc]) => {\n    let r = row + dr,\n      c = col + dc;\n    while (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      if (!board[r][c]) {\n        moves.push({\n          row: r,\n          col: c\n        });\n      } else {\n        if (isOpponent(board[row][col], board[r][c])) {\n          moves.push({\n            row: r,\n            col: c\n          }); // N·∫øu l√† qu√¢n ƒë·ªëi th·ªß, c√≥ th·ªÉ ƒÉn\n        }\n        break; // D·ª´ng l·∫°i n·∫øu g·∫∑p b·∫•t k·ª≥ qu√¢n n√†o\n      }\n      r += dr;\n      c += dc;\n    }\n  });\n  return moves;\n};\n\n// ‚úÖ Ki·ªÉm tra n∆∞·ªõc ƒëi h·ª£p l·ªá\nexport const isValidMove = (piece, fromRow, fromCol, toRow, toCol, board) => {\n  const validMoves = getValidMoves(piece, fromRow, fromCol, board);\n  return validMoves.some(move => move.row === toRow && move.col === toCol);\n};\n\n// ‚úÖ X·ª≠ l√Ω phong c·∫•p t·ªët\nexport const promotePawn = async (row, col, board, isWhite) => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      const promotedPiece = window.prompt(\"Ch·ªçn qu√¢n ƒë·ªÉ phong c·∫•p: (Q) H·∫≠u, (R) Xe, (B) T∆∞·ª£ng, (N) M√£\", \"Q\");\n      let newPiece;\n      switch (promotedPiece === null || promotedPiece === void 0 ? void 0 : promotedPiece.toUpperCase()) {\n        case \"R\":\n          newPiece = isWhite ? \"‚ôñ\" : \"‚ôú\";\n          break;\n        case \"B\":\n          newPiece = isWhite ? \"‚ôó\" : \"‚ôù\";\n          break;\n        case \"N\":\n          newPiece = isWhite ? \"‚ôò\" : \"‚ôû\";\n          break;\n        default:\n          newPiece = isWhite ? \"‚ôï\" : \"‚ôõ\";\n        // M·∫∑c ƒë·ªãnh l√† H·∫≠u\n      }\n      board[row][col] = newPiece;\n      resolve();\n    }, 100);\n  });\n};\n\n// ‚úÖ Xu·∫•t c√°c h√†m c·∫ßn thi·∫øt\nexport { getPawnMoves, getRookMoves, getBishopMoves, getKnightMoves, getKingMoves, getLinearMoves };","map":{"version":3,"names":["getValidMoves","piece","row","col","board","validMoves","isWhite","includes","getPawnMoves","getRookMoves","getKnightMoves","getBishopMoves","getQueenMoves","getKingMoves","isOpponent","targetPiece","moves","direction","startRow","endRow","push","promote","getLinearMoves","knightMoves","forEach","dr","dc","r","c","kingMoves","directions","isValidMove","fromRow","fromCol","toRow","toCol","some","move","promotePawn","Promise","resolve","setTimeout","promotedPiece","window","prompt","newPiece","toUpperCase"],"sources":["/root/se06206-final-thaydong-nhom1/se06206-final-thaydong-nhom1-main/Chess-game-login/src/utils/moveRules.js"],"sourcesContent":["export const getValidMoves = (piece, row, col, board) => {\n  let validMoves = [];\n  const isWhite = \"‚ôô‚ôñ‚ôò‚ôó‚ôï‚ôî\".includes(piece); // X√°c ƒë·ªãnh m√†u qu√¢n c·ªù\n\n  switch (piece) {\n    case \"‚ôô\": case \"‚ôü\": // T·ªët\n      validMoves = getPawnMoves(row, col, board, isWhite);\n      break;\n    case \"‚ôñ\": case \"‚ôú\": // Xe\n      validMoves = getRookMoves(row, col, board, isWhite);\n      break;\n    case \"‚ôò\": case \"‚ôû\": // M√£\n      validMoves = getKnightMoves(row, col, board);\n      break;\n    case \"‚ôó\": case \"‚ôù\": // T∆∞·ª£ng\n      validMoves = getBishopMoves(row, col, board, isWhite);\n      break;\n    case \"‚ôï\": case \"‚ôõ\": // H·∫≠u\n      validMoves = getQueenMoves(row, col, board, isWhite); // üî• S·ª≠ d·ª•ng getQueenMoves\n      break;\n    case \"‚ôî\": case \"‚ôö\": // Vua\n      validMoves = getKingMoves(row, col, board, isWhite);\n      break;\n  }\n\n  return validMoves;\n};\n\n// ‚úÖ Ki·ªÉm tra qu√¢n ƒë·ªãch\nconst isOpponent = (piece, targetPiece) => {\n  return targetPiece && (\"‚ôô‚ôñ‚ôò‚ôó‚ôï‚ôî\".includes(piece) !== \"‚ôô‚ôñ‚ôò‚ôó‚ôï‚ôî\".includes(targetPiece));\n};\n\n// ‚úÖ X·ª≠ l√Ω n∆∞·ªõc ƒëi c·ªßa T·ªët\nconst getPawnMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const direction = isWhite ? -1 : 1;\n  const startRow = isWhite ? 6 : 1;\n  const endRow = isWhite ? 0 : 7;\n\n  // ƒêi th·∫≥ng\n  if (!board[row + direction][col]) {\n    moves.push({ row: row + direction, col, promote: row + direction === endRow });\n\n    // N·∫øu l√† n∆∞·ªõc ƒëi ƒë·∫ßu ti√™n, c√≥ th·ªÉ ƒëi 2 √¥\n    if (row === startRow && !board[row + 2 * direction][col]) {\n      moves.push({ row: row + 2 * direction, col });\n    }\n  }\n\n  // ƒÇn ch√©o\n  if (col > 0 && isOpponent(board[row][col], board[row + direction][col - 1])) {\n    moves.push({ row: row + direction, col: col - 1, promote: row + direction === endRow });\n  }\n  if (col < 7 && isOpponent(board[row][col], board[row + direction][col + 1])) {\n    moves.push({ row: row + direction, col: col + 1, promote: row + direction === endRow });\n  }\n\n  return moves;\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn Xe\nconst getRookMoves = (row, col, board, isWhite) => {\n  return getLinearMoves(row, col, board, [[-1, 0], [1, 0], [0, -1], [0, 1]]);\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn T∆∞·ª£ng\nconst getBishopMoves = (row, col, board, isWhite) => {\n  return getLinearMoves(row, col, board, [[-1, -1], [-1, 1], [1, -1], [1, 1]]);\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn H·∫≠u\nconst getQueenMoves = (row, col, board, isWhite) => {\n  return [...getRookMoves(row, col, board, isWhite), ...getBishopMoves(row, col, board, isWhite)];\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn M√£\nconst getKnightMoves = (row, col, board) => {\n  const moves = [];\n  const knightMoves = [[-2, -1], [-2, 1], [2, -1], [2, 1], [-1, -2], [-1, 2], [1, -2], [1, 2]];\n  knightMoves.forEach(([dr, dc]) => {\n    const r = row + dr, c = col + dc;\n    if (r >= 0 && r < 8 && c >= 0 && c < 8 && (!board[r][c] || isOpponent(board[row][col], board[r][c]))) {\n      moves.push({ row: r, col: c });\n    }\n  });\n  return moves;\n};\n\n// ‚úÖ X·ª≠ l√Ω di chuy·ªÉn Vua (bao g·ªìm ki·ªÉm tra n∆∞·ªõc ƒëi)\nconst getKingMoves = (row, col, board, isWhite) => {\n  const moves = [];\n  const kingMoves = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n  kingMoves.forEach(([dr, dc]) => {\n    const r = row + dr, c = col + dc;\n    if (r >= 0 && r < 8 && c >= 0 && c < 8 && (!board[r][c] || isOpponent(board[row][col], board[r][c]))) {\n      moves.push({ row: r, col: c });\n    }\n  });\n  return moves;\n};\n\n// ‚úÖ X·ª≠ l√Ω n∆∞·ªõc ƒëi theo ƒë∆∞·ªùng th·∫≥ng (Xe, T∆∞·ª£ng, H·∫≠u)\nconst getLinearMoves = (row, col, board, directions) => {\n  const moves = [];\n  directions.forEach(([dr, dc]) => {\n    let r = row + dr, c = col + dc;\n    while (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      if (!board[r][c]) {\n        moves.push({ row: r, col: c });\n      } else {\n        if (isOpponent(board[row][col], board[r][c])) {\n          moves.push({ row: r, col: c }); // N·∫øu l√† qu√¢n ƒë·ªëi th·ªß, c√≥ th·ªÉ ƒÉn\n        }\n        break; // D·ª´ng l·∫°i n·∫øu g·∫∑p b·∫•t k·ª≥ qu√¢n n√†o\n      }\n      r += dr;\n      c += dc;\n    }\n  });\n  return moves;\n};\n\n\n// ‚úÖ Ki·ªÉm tra n∆∞·ªõc ƒëi h·ª£p l·ªá\nexport const isValidMove = (piece, fromRow, fromCol, toRow, toCol, board) => {\n  const validMoves = getValidMoves(piece, fromRow, fromCol, board);\n  return validMoves.some(move => move.row === toRow && move.col === toCol);\n};\n\n// ‚úÖ X·ª≠ l√Ω phong c·∫•p t·ªët\nexport const promotePawn = async (row, col, board, isWhite) => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const promotedPiece = window.prompt(\"Ch·ªçn qu√¢n ƒë·ªÉ phong c·∫•p: (Q) H·∫≠u, (R) Xe, (B) T∆∞·ª£ng, (N) M√£\", \"Q\");\n      let newPiece;\n      switch (promotedPiece?.toUpperCase()) {\n        case \"R\": newPiece = isWhite ? \"‚ôñ\" : \"‚ôú\"; break;\n        case \"B\": newPiece = isWhite ? \"‚ôó\" : \"‚ôù\"; break;\n        case \"N\": newPiece = isWhite ? \"‚ôò\" : \"‚ôû\"; break;\n        default: newPiece = isWhite ? \"‚ôï\" : \"‚ôõ\"; // M·∫∑c ƒë·ªãnh l√† H·∫≠u\n      }\n      board[row][col] = newPiece;\n      resolve();\n    }, 100);\n  });\n};\n\n// ‚úÖ Xu·∫•t c√°c h√†m c·∫ßn thi·∫øt\nexport { getPawnMoves, getRookMoves, getBishopMoves, getKnightMoves, getKingMoves, getLinearMoves };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}