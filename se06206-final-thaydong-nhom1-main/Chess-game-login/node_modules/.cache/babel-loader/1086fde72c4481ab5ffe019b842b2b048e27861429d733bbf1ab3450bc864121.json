{"ast":null,"code":"let currentTurn = true; // true là Trắng, false là Đen\n\nexport const getValidMoves = (piece, row, col, board) => {\n  if (!piece) return []; // Kiểm tra nếu piece không hợp lệ\n\n  let validMoves = [];\n  const isWhite = \"♙♖♘♗♕♔\".includes(piece); // Khai báo biến trước khi sử dụng\n\n  switch (piece) {\n    case \"♙\":\n    case \"♟\":\n      // Tốt\n      validMoves = getPawnMoves(row, col, board, isWhite);\n      break;\n    case \"♖\":\n    case \"♜\":\n      // Xe\n      validMoves = getRookMoves(row, col, board, isWhite);\n      break;\n    case \"♘\":\n    case \"♞\":\n      // Mã\n      validMoves = getKnightMoves(row, col, board, isWhite);\n      break;\n    case \"♗\":\n    case \"♝\":\n      // Tượng\n      validMoves = getBishopMoves(row, col, board, isWhite);\n      break;\n    case \"♕\":\n    case \"♛\":\n      // Hậu\n      validMoves = [...getRookMoves(row, col, board, isWhite), ...getBishopMoves(row, col, board, isWhite)];\n      break;\n    case \"♔\":\n    case \"♚\":\n      // Vua\n      validMoves = getKingMoves(row, col, board, isWhite);\n      validMoves.push(...getCastlingMoves(row, col, board, isWhite)); // Nhập thành\n      break;\n    default:\n      console.warn(\"Không xác định được quân cờ:\", piece);\n      const moves = [];\n      const isWhite = \"♙♖♘♗♕♔\".includes(piece);\n      const direction = isWhite ? -1 : 1; // Trắng đi lên (-1), Đen đi xuống (+1)\n\n      switch (piece) {\n        case \"♙\": // Tốt trắng\n        case \"♟\":\n          // Tốt đen\n          if (!board[row + direction][col]) {\n            moves.push({\n              row: row + direction,\n              col\n            });\n            if (isWhite && row === 6 || !isWhite && row === 1) {\n              if (!board[row + 2 * direction][col]) {\n                moves.push({\n                  row: row + 2 * direction,\n                  col\n                });\n              }\n            }\n          }\n          if (col > 0 && board[row + direction][col - 1] && isOpponent(piece, board[row + direction][col - 1])) {\n            moves.push({\n              row: row + direction,\n              col: col - 1\n            });\n          }\n          if (col < 7 && board[row + direction][col + 1] && isOpponent(piece, board[row + direction][col + 1])) {\n            moves.push({\n              row: row + direction,\n              col: col + 1\n            });\n          }\n          break;\n        case \"♖\":\n        case \"♜\":\n          // Xe\n          moves.push(...getLinearMoves(row, col, board, [[-1, 0], [1, 0], [0, -1], [0, 1]]));\n          break;\n        case \"♘\":\n        case \"♞\":\n          // Mã\n          moves.push(...getKnightMoves(row, col, board));\n          break;\n        case \"♗\":\n        case \"♝\":\n          // Tượng\n          moves.push(...getLinearMoves(row, col, board, [[-1, -1], [-1, 1], [1, -1], [1, 1]]));\n          break;\n        case \"♕\":\n        case \"♛\":\n          // Hậu\n          moves.push(...getLinearMoves(row, col, board, [[-1, 0], [1, 0], [0, -1], [0, 1], [-1, -1], [-1, 1], [1, -1], [1, 1]]));\n          break;\n        case \"♔\":\n        case \"♚\":\n          // Vua\n          moves.push(...getKingMoves(row, col, board));\n          break;\n      }\n      return moves;\n  }\n  ;\n\n  // ✅ Xác minh nước đi có hợp lệ không\n  // Kiểm tra xem có phải quân địch không\n  const isOpponent = (piece, targetPiece) => {\n    return targetPiece && \"♙♖♘♗♕♔\".includes(piece) !== \"♙♖♘♗♕♔\".includes(targetPiece);\n  };\n\n  // Lấy nước đi tuyến tính (dùng cho Xe, Tượng, Hậu)\n  const getLinearMoves = (row, col, board, directions) => {\n    const moves = [];\n    directions.forEach(([dr, dc]) => {\n      let r = row + dr,\n        c = col + dc;\n      while (r >= 0 && r < 8 && c >= 0 && c < 8) {\n        if (!board[r][c]) {\n          moves.push({\n            row: r,\n            col: c\n          });\n        } else {\n          if (isOpponent(board[row][col], board[r][c])) {\n            moves.push({\n              row: r,\n              col: c\n            });\n          }\n          break;\n        }\n        r += dr;\n        c += dc;\n      }\n    });\n    return moves;\n  };\n\n  // Lấy nước đi của Mã\n  const getKnightMoves = (row, col, board) => {\n    const moves = [];\n    const knightMoves = [[-2, -1], [-2, 1], [2, -1], [2, 1], [-1, -2], [-1, 2], [1, -2], [1, 2]];\n    knightMoves.forEach(([dr, dc]) => {\n      const r = row + dr,\n        c = col + dc;\n      if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n        if (!board[r][c] || isOpponent(board[row][col], board[r][c])) {\n          moves.push({\n            row: r,\n            col: c\n          });\n        }\n      }\n    });\n    return moves;\n  };\n\n  // Lấy nước đi của Vua\n  const getKingMoves = (row, col, board) => {\n    const moves = [];\n    const kingMoves = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n    kingMoves.forEach(([dr, dc]) => {\n      const r = row + dr,\n        c = col + dc;\n      if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n        if (!board[r][c] || isOpponent(board[row][col], board[r][c])) {\n          moves.push({\n            row: r,\n            col: c\n          });\n        }\n      }\n    });\n    return moves;\n  };\n};\nexport const isValidMove = (piece, fromRow, fromCol, toRow, toCol, board) => {\n  const validMoves = getValidMoves(piece, fromRow, fromCol, board);\n  return validMoves.some(move => move.row === toRow && move.col === toCol);\n};\n\n// ✅ Xử lý di chuyển Tốt (Pawn) + Phong cấp\nconst getPawnMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const direction = isWhite ? -1 : 1;\n  const startRow = isWhite ? 6 : 1;\n  const endRow = isWhite ? 0 : 7;\n\n  // Tiến lên một ô (nếu trống)\n  if (row + direction >= 0 && row + direction < 8) {\n    if (!board[row + direction][col]) {\n      moves.push({\n        row: row + direction,\n        col,\n        promote: row + direction === endRow\n      });\n\n      // Nếu là nước đi đầu tiên của tốt, có thể đi hai ô\n      if (row === startRow && !board[row + 2 * direction][col]) {\n        moves.push({\n          row: row + 2 * direction,\n          col\n        });\n      }\n    }\n\n    // Ăn chéo (bắt quân đối thủ)\n    if (col > 0 && board[row + direction][col - 1] && \"♙♖♘♗♕♔\".includes(board[row + direction][col - 1]) !== isWhite) {\n      moves.push({\n        row: row + direction,\n        col: col - 1,\n        promote: row + direction === endRow\n      });\n    }\n    if (col < 7 && board[row + direction][col + 1] && \"♙♖♘♗♕♔\".includes(board[row + direction][col + 1]) !== isWhite) {\n      moves.push({\n        row: row + direction,\n        col: col + 1,\n        promote: row + direction === endRow\n      });\n    }\n  }\n  return moves;\n};\nexport const promotePawn = async (row, col, board, isWhite) => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      const promotedPiece = window.prompt(\"Chọn quân để phong cấp: (Q) Hậu, (R) Xe, (B) Tượng, (N) Mã\", \"Q\");\n      let newPiece;\n      switch (promotedPiece === null || promotedPiece === void 0 ? void 0 : promotedPiece.toUpperCase()) {\n        case \"R\":\n          newPiece = isWhite ? \"♖\" : \"♜\";\n          break;\n        case \"B\":\n          newPiece = isWhite ? \"♗\" : \"♝\";\n          break;\n        case \"N\":\n          newPiece = isWhite ? \"♘\" : \"♞\";\n          break;\n        default:\n          newPiece = isWhite ? \"♕\" : \"♛\";\n        // Mặc định là Hậu\n      }\n      board[row][col] = newPiece; // Cập nhật bàn cờ\n      resolve();\n    }, 100); // Chờ một chút để tránh lỗi UI\n  });\n};\n\n// ✅ Xử lý di chuyển Xe (Rook)\nconst getRookMoves = (row, col, board, isWhite) => {\n  return getLinearMoves(row, col, board, isWhite, [[1, 0], [-1, 0], [0, 1], [0, -1]]);\n};\n\n// ✅ Xử lý di chuyển Tượng (Bishop)\nconst getBishopMoves = (row, col, board, isWhite) => {\n  return getLinearMoves(row, col, board, isWhite, [[1, 1], [-1, -1], [1, -1], [-1, 1]]);\n};\n\n// ✅ Xử lý di chuyển Mã (Knight)\nconst getKnightMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const knightMoves = [[-2, -1], [-2, 1], [2, -1], [2, 1], [-1, -2], [-1, 2], [1, -2], [1, 2]];\n  knightMoves.forEach(([dx, dy]) => {\n    let newRow = row + dx,\n      newCol = col + dy;\n    if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      let target = board[newRow][newCol];\n      if (!target || \"♙♖♘♗♕♔\".includes(target) !== isWhite) {\n        moves.push({\n          row: newRow,\n          col: newCol\n        });\n      }\n    }\n  });\n  return moves;\n};\n\n// ✅ Xử lý di chuyển Vua (King)\nconst getKingMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const kingMoves = [[1, 0], [-1, 0], [0, 1], [0, -1], [1, 1], [-1, -1], [1, -1], [-1, 1]];\n  kingMoves.forEach(([dx, dy]) => {\n    let newRow = row + dx,\n      newCol = col + dy;\n    if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      let target = board[newRow][newCol];\n      if (!target || \"♙♖♘♗♕♔\".includes(target) !== isWhite) {\n        moves.push({\n          row: newRow,\n          col: newCol\n        });\n      }\n    }\n  });\n  return moves;\n};\n\n// ✅ Xử lý nước đi theo đường thẳng\nconst getLinearMoves = (row, col, board, isWhite, directions) => {\n  let moves = [];\n  directions.forEach(([dx, dy]) => {\n    let newRow = row + dx,\n      newCol = col + dy;\n    while (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      let target = board[newRow][newCol];\n      if (!target) {\n        moves.push({\n          row: newRow,\n          col: newCol\n        });\n      } else {\n        if (\"♙♖♘♗♕♔\".includes(target) !== isWhite) {\n          moves.push({\n            row: newRow,\n            col: newCol\n          });\n        }\n        break;\n      }\n      newRow += dx;\n      newCol += dy;\n    }\n  });\n  return moves;\n};\n// ✅ Xử lý nhập thành (Castling)\nconst getCastlingMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const kingStartCol = 4;\n  const rookPositions = [0, 7];\n  if (isWhite && row === 7 || !isWhite && row === 0) {\n    rookPositions.forEach(rookCol => {\n      if (board[row][rookCol] === (isWhite ? \"♖\" : \"♜\")) {\n        const direction = rookCol === 0 ? -1 : 1;\n        if (!board[row][kingStartCol + direction] && !board[row][kingStartCol + 2 * direction]) {\n          moves.push({\n            row,\n            col: kingStartCol + 2 * direction,\n            castling: true\n          });\n        }\n      }\n    });\n  }\n  return moves;\n};\n\n// ✅ Xuất tất cả các hàm cần thiết\nexport { getPawnMoves, getRookMoves, getBishopMoves, getKnightMoves, getKingMoves, getLinearMoves };","map":{"version":3,"names":["currentTurn","getValidMoves","piece","row","col","board","validMoves","isWhite","includes","getPawnMoves","getRookMoves","getKnightMoves","getBishopMoves","getKingMoves","push","getCastlingMoves","console","warn","moves","direction","isOpponent","getLinearMoves","targetPiece","directions","forEach","dr","dc","r","c","knightMoves","kingMoves","isValidMove","fromRow","fromCol","toRow","toCol","some","move","startRow","endRow","promote","promotePawn","Promise","resolve","setTimeout","promotedPiece","window","prompt","newPiece","toUpperCase","dx","dy","newRow","newCol","target","kingStartCol","rookPositions","rookCol","castling"],"sources":["/root/se06206-final-thaydong-nhom1/se06206-final-thaydong-nhom1-main/Chess-game-login/src/utils/moveRules.js"],"sourcesContent":["let currentTurn = true; // true là Trắng, false là Đen\n\nexport const getValidMoves = (piece, row, col, board) => {\n  if (!piece) return []; // Kiểm tra nếu piece không hợp lệ\n\n  let validMoves = [];\n  const isWhite = \"♙♖♘♗♕♔\".includes(piece); // Khai báo biến trước khi sử dụng\n\n  switch (piece) {\n    case \"♙\": case \"♟\": // Tốt\n      validMoves = getPawnMoves(row, col, board, isWhite);\n      break;\n    case \"♖\": case \"♜\": // Xe\n      validMoves = getRookMoves(row, col, board, isWhite);\n      break;\n    case \"♘\": case \"♞\": // Mã\n      validMoves = getKnightMoves(row, col, board, isWhite);\n      break;\n    case \"♗\": case \"♝\": // Tượng\n      validMoves = getBishopMoves(row, col, board, isWhite);\n      break;\n    case \"♕\": case \"♛\": // Hậu\n      validMoves = [...getRookMoves(row, col, board, isWhite), ...getBishopMoves(row, col, board, isWhite)];\n      break;\n    case \"♔\": case \"♚\": // Vua\n      validMoves = getKingMoves(row, col, board, isWhite);\n      validMoves.push(...getCastlingMoves(row, col, board, isWhite)); // Nhập thành\n      break;\n    default:\n      console.warn(\"Không xác định được quân cờ:\", piece);\n  \n  const moves = [];\n  const isWhite = \"♙♖♘♗♕♔\".includes(piece);\n  const direction = isWhite ? -1 : 1; // Trắng đi lên (-1), Đen đi xuống (+1)\n\n  switch (piece) {\n    case \"♙\": // Tốt trắng\n    case \"♟\": // Tốt đen\n      if (!board[row + direction][col]) {\n        moves.push({ row: row + direction, col });\n        if ((isWhite && row === 6) || (!isWhite && row === 1)) {\n          if (!board[row + 2 * direction][col]) {\n            moves.push({ row: row + 2 * direction, col });\n          }\n        }\n      }\n      if (col > 0 && board[row + direction][col - 1] && isOpponent(piece, board[row + direction][col - 1])) {\n        moves.push({ row: row + direction, col: col - 1 });\n      }\n      if (col < 7 && board[row + direction][col + 1] && isOpponent(piece, board[row + direction][col + 1])) {\n        moves.push({ row: row + direction, col: col + 1 });\n      }\n      break;\n\n    case \"♖\": case \"♜\": // Xe\n      moves.push(...getLinearMoves(row, col, board, [[-1, 0], [1, 0], [0, -1], [0, 1]]));\n      break;\n\n    case \"♘\": case \"♞\": // Mã\n      moves.push(...getKnightMoves(row, col, board));\n      break;\n\n    case \"♗\": case \"♝\": // Tượng\n      moves.push(...getLinearMoves(row, col, board, [[-1, -1], [-1, 1], [1, -1], [1, 1]]));\n      break;\n\n    case \"♕\": case \"♛\": // Hậu\n      moves.push(...getLinearMoves(row, col, board, [[-1, 0], [1, 0], [0, -1], [0, 1], [-1, -1], [-1, 1], [1, -1], [1, 1]]));\n      break;\n\n    case \"♔\": case \"♚\": // Vua\n      moves.push(...getKingMoves(row, col, board));\n\n      break;\n  }\n\n  return moves;\n};\n\n\n// ✅ Xác minh nước đi có hợp lệ không\n// Kiểm tra xem có phải quân địch không\nconst isOpponent = (piece, targetPiece) => {\n  return targetPiece && (\"♙♖♘♗♕♔\".includes(piece) !== \"♙♖♘♗♕♔\".includes(targetPiece));\n};\n\n// Lấy nước đi tuyến tính (dùng cho Xe, Tượng, Hậu)\nconst getLinearMoves = (row, col, board, directions) => {\n  const moves = [];\n  directions.forEach(([dr, dc]) => {\n    let r = row + dr, c = col + dc;\n    while (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      if (!board[r][c]) {\n        moves.push({ row: r, col: c });\n      } else {\n        if (isOpponent(board[row][col], board[r][c])) {\n          moves.push({ row: r, col: c });\n        }\n        break;\n      }\n      r += dr;\n      c += dc;\n    }\n  });\n  return moves;\n};\n\n// Lấy nước đi của Mã\nconst getKnightMoves = (row, col, board) => {\n  const moves = [];\n  const knightMoves = [[-2, -1], [-2, 1], [2, -1], [2, 1], [-1, -2], [-1, 2], [1, -2], [1, 2]];\n  knightMoves.forEach(([dr, dc]) => {\n    const r = row + dr, c = col + dc;\n    if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      if (!board[r][c] || isOpponent(board[row][col], board[r][c])) {\n        moves.push({ row: r, col: c });\n      }\n    }\n  });\n  return moves;\n};\n\n// Lấy nước đi của Vua\nconst getKingMoves = (row, col, board) => {\n  const moves = [];\n  const kingMoves = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n  kingMoves.forEach(([dr, dc]) => {\n    const r = row + dr, c = col + dc;\n    if (r >= 0 && r < 8 && c >= 0 && c < 8) {\n      if (!board[r][c] || isOpponent(board[row][col], board[r][c])) {\n        moves.push({ row: r, col: c });\n      }\n    }\n  });\n  return moves;\n};\n}\nexport const isValidMove = (piece, fromRow, fromCol, toRow, toCol, board) => {\n  const validMoves = getValidMoves(piece, fromRow, fromCol, board);\n  return validMoves.some(move => move.row === toRow && move.col === toCol);\n};\n\n// ✅ Xử lý di chuyển Tốt (Pawn) + Phong cấp\nconst getPawnMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const direction = isWhite ? -1 : 1;\n  const startRow = isWhite ? 6 : 1;\n  const endRow = isWhite ? 0 : 7;\n\n  // Tiến lên một ô (nếu trống)\n  if (row + direction >= 0 && row + direction < 8) {\n    if (!board[row + direction][col]) {\n      moves.push({ row: row + direction, col, promote: row + direction === endRow });\n\n      // Nếu là nước đi đầu tiên của tốt, có thể đi hai ô\n      if (row === startRow && !board[row + 2 * direction][col]) {\n        moves.push({ row: row + 2 * direction, col });\n      }\n    }\n\n    // Ăn chéo (bắt quân đối thủ)\n    if (col > 0 && board[row + direction][col - 1] && \"♙♖♘♗♕♔\".includes(board[row + direction][col - 1]) !== isWhite) {\n      moves.push({ row: row + direction, col: col - 1, promote: row + direction === endRow });\n    }\n    if (col < 7 && board[row + direction][col + 1] && \"♙♖♘♗♕♔\".includes(board[row + direction][col + 1]) !== isWhite) {\n      moves.push({ row: row + direction, col: col + 1, promote: row + direction === endRow });\n    }\n  }\n  return moves;\n};\n\nexport const promotePawn = async (row, col, board, isWhite) => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const promotedPiece = window.prompt(\n        \"Chọn quân để phong cấp: (Q) Hậu, (R) Xe, (B) Tượng, (N) Mã\",\n        \"Q\"\n      );\n\n      let newPiece;\n      switch (promotedPiece?.toUpperCase()) {\n        case \"R\": newPiece = isWhite ? \"♖\" : \"♜\"; break;\n        case \"B\": newPiece = isWhite ? \"♗\" : \"♝\"; break;\n        case \"N\": newPiece = isWhite ? \"♘\" : \"♞\"; break;\n        default: newPiece = isWhite ? \"♕\" : \"♛\"; // Mặc định là Hậu\n      }\n\n      board[row][col] = newPiece; // Cập nhật bàn cờ\n      resolve();\n    }, 100); // Chờ một chút để tránh lỗi UI\n  });\n};\n\n\n\n// ✅ Xử lý di chuyển Xe (Rook)\nconst getRookMoves = (row, col, board, isWhite) => {\n  return getLinearMoves(row, col, board, isWhite, [[1, 0], [-1, 0], [0, 1], [0, -1]]);\n};\n\n// ✅ Xử lý di chuyển Tượng (Bishop)\nconst getBishopMoves = (row, col, board, isWhite) => {\n  return getLinearMoves(row, col, board, isWhite, [[1, 1], [-1, -1], [1, -1], [-1, 1]]);\n};\n\n// ✅ Xử lý di chuyển Mã (Knight)\nconst getKnightMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const knightMoves = [[-2, -1], [-2, 1], [2, -1], [2, 1], [-1, -2], [-1, 2], [1, -2], [1, 2]];\n\n  knightMoves.forEach(([dx, dy]) => {\n    let newRow = row + dx, newCol = col + dy;\n    if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      let target = board[newRow][newCol];\n      if (!target || \"♙♖♘♗♕♔\".includes(target) !== isWhite) {\n        moves.push({ row: newRow, col: newCol });\n      }\n    }\n  });\n\n  return moves;\n};\n\n// ✅ Xử lý di chuyển Vua (King)\nconst getKingMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const kingMoves = [[1, 0], [-1, 0], [0, 1], [0, -1], [1, 1], [-1, -1], [1, -1], [-1, 1]];\n\n  kingMoves.forEach(([dx, dy]) => {\n    let newRow = row + dx, newCol = col + dy;\n    if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      let target = board[newRow][newCol];\n      if (!target || \"♙♖♘♗♕♔\".includes(target) !== isWhite) {\n        moves.push({ row: newRow, col: newCol });\n      }\n    }\n  });\n\n  return moves;\n};\n\n// ✅ Xử lý nước đi theo đường thẳng\nconst getLinearMoves = (row, col, board, isWhite, directions) => {\n  let moves = [];\n\n  directions.forEach(([dx, dy]) => {\n    let newRow = row + dx, newCol = col + dy;\n    while (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 8) {\n      let target = board[newRow][newCol];\n      if (!target) {\n        moves.push({ row: newRow, col: newCol });\n      } else {\n        if (\"♙♖♘♗♕♔\".includes(target) !== isWhite) {\n          moves.push({ row: newRow, col: newCol });\n        }\n        break;\n      }\n      newRow += dx;\n      newCol += dy;\n    }\n  });\n\n  return moves;\n};\n// ✅ Xử lý nhập thành (Castling)\nconst getCastlingMoves = (row, col, board, isWhite) => {\n  let moves = [];\n  const kingStartCol = 4;\n  const rookPositions = [0, 7];\n  \n  if ((isWhite && row === 7) || (!isWhite && row === 0)) {\n    rookPositions.forEach((rookCol) => {\n      if (board[row][rookCol] === (isWhite ? \"♖\" : \"♜\")) {\n        const direction = rookCol === 0 ? -1 : 1;\n        if (\n          !board[row][kingStartCol + direction] &&\n          !board[row][kingStartCol + 2 * direction]\n        ) {\n          moves.push({ row, col: kingStartCol + 2 * direction, castling: true });\n        }\n      }\n    });\n  }\n  return moves;\n};\n\n// ✅ Xuất tất cả các hàm cần thiết\nexport { getPawnMoves, getRookMoves, getBishopMoves, getKnightMoves, getKingMoves, getLinearMoves };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}