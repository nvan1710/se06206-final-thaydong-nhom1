{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nconst useWebSocket = () => {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    const ws = new WebSocket(\"ws://localhost:3000\");\n    ws.onopen = () => console.log(\"Connected to WebSocket server\");\n    ws.onmessage = event => {\n      console.log(\"Message received:\", event.data);\n      setMessages(prev => [...prev, event.data]);\n    };\n    ws.onclose = () => console.log(\"WebSocket closed\");\n    setSocket(ws);\n    return () => ws.close();\n  }, []);\n  const sendMessage = msg => {\n    if (socket) {\n      socket.send(msg);\n    }\n  };\n  return {\n    messages,\n    sendMessage\n  };\n};\n_s(useWebSocket, \"gJXfAnJSbZ0cmlVFRlK2OM0vmjE=\");\nexport default useWebSocket;","map":{"version":3,"names":["useEffect","useState","useWebSocket","_s","socket","setSocket","messages","setMessages","ws","WebSocket","onopen","console","log","onmessage","event","data","prev","onclose","close","sendMessage","msg","send"],"sources":["D:/se06206-final-thaydong-nhom1-main/se06206-final-thaydong-nhom1-main/Chess-game-login/src/hooks/useWebSocket.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst useWebSocket = () => {\r\n    const [socket, setSocket] = useState(null);\r\n    const [messages, setMessages] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const ws = new WebSocket(\"ws://localhost:3000\");\r\n\r\n        ws.onopen = () => console.log(\"Connected to WebSocket server\");\r\n\r\n        ws.onmessage = (event) => {\r\n            console.log(\"Message received:\", event.data);\r\n            setMessages((prev) => [...prev, event.data]);\r\n        };\r\n\r\n        ws.onclose = () => console.log(\"WebSocket closed\");\r\n\r\n        setSocket(ws);\r\n\r\n        return () => ws.close();\r\n    }, []);\r\n\r\n    const sendMessage = (msg) => {\r\n        if (socket) {\r\n            socket.send(msg);\r\n        }\r\n    };\r\n\r\n    return { messages, sendMessage };\r\n};\r\n\r\nexport default useWebSocket;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGJ,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACZ,MAAMQ,EAAE,GAAG,IAAIC,SAAS,CAAC,qBAAqB,CAAC;IAE/CD,EAAE,CAACE,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;IAE9DJ,EAAE,CAACK,SAAS,GAAIC,KAAK,IAAK;MACtBH,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEE,KAAK,CAACC,IAAI,CAAC;MAC5CR,WAAW,CAAES,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEF,KAAK,CAACC,IAAI,CAAC,CAAC;IAChD,CAAC;IAEDP,EAAE,CAACS,OAAO,GAAG,MAAMN,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;IAElDP,SAAS,CAACG,EAAE,CAAC;IAEb,OAAO,MAAMA,EAAE,CAACU,KAAK,CAAC,CAAC;EAC3B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,WAAW,GAAIC,GAAG,IAAK;IACzB,IAAIhB,MAAM,EAAE;MACRA,MAAM,CAACiB,IAAI,CAACD,GAAG,CAAC;IACpB;EACJ,CAAC;EAED,OAAO;IAAEd,QAAQ;IAAEa;EAAY,CAAC;AACpC,CAAC;AAAChB,EAAA,CA5BID,YAAY;AA8BlB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}