{"ast":null,"code":"// âœ… Biáº¿n kiá»ƒm soÃ¡t lÆ°á»£t chÆ¡i (true: Tráº¯ng, false: Äen)\nlet currentTurn = true;\n\n// âœ… Kiá»ƒm tra nÆ°á»›c Ä‘i há»£p lá»‡ cá»§a tá»«ng quÃ¢n cá»\nexport const isValidMove = (piece, fromRow, fromCol, toRow, toCol, board) => {\n  console.log(`ðŸ” Kiá»ƒm tra nÆ°á»›c Ä‘i: ${piece} (${fromRow},${fromCol}) -> (${toRow},${toCol})`);\n  if (fromRow === toRow && fromCol === toCol) return false; // KhÃ´ng Ä‘á»©ng yÃªn\n\n  const isWhite = \"â™™â™–â™˜â™—â™•â™”\".includes(piece);\n  const isBlack = \"â™Ÿâ™œâ™žâ™â™›â™š\".includes(piece);\n  if (!isWhite && !isBlack) return false; // KhÃ´ng pháº£i quÃ¢n cá» há»£p lá»‡\n\n  console.log(`ðŸŸ¢ isWhite: ${isWhite}, isBlack: ${isBlack}, currentTurn: ${currentTurn}`);\n\n  // âœ… Kiá»ƒm tra Ä‘Ãºng lÆ°á»£t chÆ¡i\n  if (isWhite && !currentTurn || isBlack && currentTurn) {\n    console.log(\"âŒ Lá»—i: KhÃ´ng Ä‘Ãºng lÆ°á»£t chÆ¡i!\");\n    return false;\n  }\n  const targetPiece = board[toRow][toCol];\n  if (targetPiece && \"â™™â™–â™˜â™—â™•â™”\".includes(targetPiece) === isWhite) return false; // KhÃ´ng Äƒn quÃ¢n mÃ¬nh\n\n  let validMove = false;\n  switch (piece) {\n    case \"â™™\":\n      validMove = isValidPawnMove(fromRow, fromCol, toRow, toCol, board, true);\n      break;\n    case \"â™Ÿ\":\n      validMove = isValidPawnMove(fromRow, fromCol, toRow, toCol, board, false);\n      break;\n    case \"â™–\":\n    case \"â™œ\":\n      validMove = isValidRookMove(fromRow, fromCol, toRow, toCol, board);\n      break;\n    case \"â™˜\":\n    case \"â™ž\":\n      validMove = isValidKnightMove(toCol - fromCol, toRow - fromRow);\n      break;\n    case \"â™—\":\n    case \"â™\":\n      validMove = isValidBishopMove(fromRow, fromCol, toRow, toCol, board);\n      break;\n    case \"â™•\":\n    case \"â™›\":\n      validMove = isValidQueenMove(fromRow, fromCol, toRow, toCol, board);\n      break;\n    case \"â™”\":\n    case \"â™š\":\n      validMove = isValidKingMove(toCol - fromCol, toRow - fromRow);\n      break;\n    default:\n      return false;\n  }\n  if (validMove) {\n    const newBoard = board.map(row => [...row]);\n    newBoard[toRow][toCol] = piece;\n    newBoard[fromRow][fromCol] = \"\";\n    if (isKingInCheck(newBoard, isWhite)) return false;\n    return true;\n  }\n  return false;\n};\n\n// âœ… Di chuyá»ƒn quÃ¢n cá» & Ä‘á»•i lÆ°á»£t\nexport const movePiece = (fromRow, fromCol, toRow, toCol, board) => {\n  console.log(\"ðŸŸ¢ LÆ°á»£t chÆ¡i hiá»‡n táº¡i:\", currentTurn ? \"Tráº¯ng\" : \"Äen\");\n  console.log(\"ðŸŸ¢ QuÃ¢n cá» Ä‘ang di chuyá»ƒn:\", board[fromRow][fromCol]);\n  if (isValidMove(board[fromRow][fromCol], fromRow, fromCol, toRow, toCol, board)) {\n    board[toRow][toCol] = board[fromRow][fromCol];\n    board[fromRow][fromCol] = \"\";\n    currentTurn = !currentTurn; // âœ… Äá»•i lÆ°á»£t  \n    console.log(\"ðŸ”„ LÆ°á»£t chÆ¡i sau khi Ä‘i:\", currentTurn ? \"Tráº¯ng\" : \"Äen\");\n    renderBoard(); // ðŸ”„ Cáº­p nháº­t giao diá»‡n  \n  } else {\n    console.log(\"âŒ NÆ°á»›c Ä‘i khÃ´ng há»£p lá»‡!\");\n  }\n};\n\n// âœ… Kiá»ƒm tra tá»‘t (Pawn)\nconst isValidPawnMove = (fromRow, fromCol, toRow, toCol, board, isWhite) => {\n  const direction = isWhite ? -1 : 1; // Tráº¯ng Ä‘i lÃªn (-1), Äen Ä‘i xuá»‘ng (+1)\n  const startRow = isWhite ? 6 : 1;\n  const dy = toRow - fromRow;\n  const dx = Math.abs(toCol - fromCol);\n  const targetPiece = board[toRow][toCol];\n  if (dx === 0 && !targetPiece) {\n    // Äi tháº³ng\n    if (dy === direction) return true;\n    if (fromRow === startRow && dy === 2 * direction && !board[fromRow + direction][toCol]) {\n      return true;\n    }\n  }\n  if (dx === 1 && dy === direction && targetPiece) return true; // Ä‚n chÃ©o\n\n  return false;\n};\n\n// âœ… Kiá»ƒm tra Xe (Rook)\nconst isValidRookMove = (fromRow, fromCol, toRow, toCol, board) => {\n  if (fromRow !== toRow && fromCol !== toCol) return false;\n  return isPathClear(fromRow, fromCol, toRow, toCol, board);\n};\n\n// âœ… Kiá»ƒm tra MÃ£ (Knight)\nconst isValidKnightMove = (dx, dy) => {\n  return Math.abs(dx) === 2 && Math.abs(dy) === 1 || Math.abs(dx) === 1 && Math.abs(dy) === 2;\n};\n\n// âœ… Kiá»ƒm tra TÆ°á»£ng (Bishop)\nconst isValidBishopMove = (fromRow, fromCol, toRow, toCol, board) => {\n  if (Math.abs(fromRow - toRow) !== Math.abs(fromCol - toCol)) return false;\n  return isPathClear(fromRow, fromCol, toRow, toCol, board);\n};\n\n// âœ… Kiá»ƒm tra Háº­u (Queen)\nconst isValidQueenMove = (fromRow, fromCol, toRow, toCol, board) => {\n  return isValidRookMove(fromRow, fromCol, toRow, toCol, board) || isValidBishopMove(fromRow, fromCol, toRow, toCol, board);\n};\n\n// âœ… Kiá»ƒm tra Vua (King)\nconst isValidKingMove = (dx, dy) => {\n  return Math.abs(dx) <= 1 && Math.abs(dy) <= 1;\n};\n\n// âœ… Kiá»ƒm tra Ä‘Æ°á»ng Ä‘i cÃ³ bá»‹ cháº·n khÃ´ng\nconst isPathClear = (fromRow, fromCol, toRow, toCol, board) => {\n  const dx = Math.sign(toCol - fromCol);\n  const dy = Math.sign(toRow - fromRow);\n  let x = fromCol + dx;\n  let y = fromRow + dy;\n  while (x !== toCol || y !== toRow) {\n    if (board[y][x] !== \"\") return false;\n    x += dx;\n    y += dy;\n  }\n  return true;\n};\n\n// âœ… TÃ¬m vá»‹ trÃ­ cá»§a Vua\nconst findKingPosition = (board, isWhite) => {\n  const king = isWhite ? \"â™”\" : \"â™š\";\n  for (let row = 0; row < 8; row++) {\n    for (let col = 0; col < 8; col++) {\n      if (board[row][col] === king) return {\n        row,\n        col\n      };\n    }\n  }\n  return null;\n};\n\n// âœ… Kiá»ƒm tra Vua cÃ³ bá»‹ chiáº¿u khÃ´ng\nconst isKingInCheck = (board, isWhite) => {\n  const kingPos = findKingPosition(board, isWhite);\n  if (!kingPos) return false;\n  const {\n    row: kingRow,\n    col: kingCol\n  } = kingPos;\n  for (let row = 0; row < 8; row++) {\n    for (let col = 0; col < 8; col++) {\n      const piece = board[row][col];\n      if (!piece) continue;\n      const isEnemy = \"â™™â™–â™˜â™—â™•â™”\".includes(piece) !== isWhite;\n      if (isEnemy && isValidMove(piece, row, col, kingRow, kingCol, board)) {\n        return true;\n      }\n    }\n  }\n  return false;\n};","map":{"version":3,"names":["currentTurn","isValidMove","piece","fromRow","fromCol","toRow","toCol","board","console","log","isWhite","includes","isBlack","targetPiece","validMove","isValidPawnMove","isValidRookMove","isValidKnightMove","isValidBishopMove","isValidQueenMove","isValidKingMove","newBoard","map","row","isKingInCheck","movePiece","renderBoard","direction","startRow","dy","dx","Math","abs","isPathClear","sign","x","y","findKingPosition","king","col","kingPos","kingRow","kingCol","isEnemy"],"sources":["D:/se06206-final-thaydong-nhom1-main/se06206-final-thaydong-nhom1-main/Chess-game-login/src/utils/moveRules.js"],"sourcesContent":["// âœ… Biáº¿n kiá»ƒm soÃ¡t lÆ°á»£t chÆ¡i (true: Tráº¯ng, false: Äen)\nlet currentTurn = true;\n\n// âœ… Kiá»ƒm tra nÆ°á»›c Ä‘i há»£p lá»‡ cá»§a tá»«ng quÃ¢n cá»\nexport const isValidMove = (piece, fromRow, fromCol, toRow, toCol, board) => {\n  console.log(`ðŸ” Kiá»ƒm tra nÆ°á»›c Ä‘i: ${piece} (${fromRow},${fromCol}) -> (${toRow},${toCol})`);\n\n  if (fromRow === toRow && fromCol === toCol) return false; // KhÃ´ng Ä‘á»©ng yÃªn\n\n  const isWhite = \"â™™â™–â™˜â™—â™•â™”\".includes(piece);\n  const isBlack = \"â™Ÿâ™œâ™žâ™â™›â™š\".includes(piece);\n  if (!isWhite && !isBlack) return false; // KhÃ´ng pháº£i quÃ¢n cá» há»£p lá»‡\n\n  console.log(`ðŸŸ¢ isWhite: ${isWhite}, isBlack: ${isBlack}, currentTurn: ${currentTurn}`);\n\n  // âœ… Kiá»ƒm tra Ä‘Ãºng lÆ°á»£t chÆ¡i\n  if ((isWhite && !currentTurn) || (isBlack && currentTurn)) {\n    console.log(\"âŒ Lá»—i: KhÃ´ng Ä‘Ãºng lÆ°á»£t chÆ¡i!\");\n    return false;\n  }\n\n  const targetPiece = board[toRow][toCol];\n  if (targetPiece && (\"â™™â™–â™˜â™—â™•â™”\".includes(targetPiece) === isWhite)) return false; // KhÃ´ng Äƒn quÃ¢n mÃ¬nh\n\n  let validMove = false;\n  switch (piece) {\n    case \"â™™\": validMove = isValidPawnMove(fromRow, fromCol, toRow, toCol, board, true); break;\n    case \"â™Ÿ\": validMove = isValidPawnMove(fromRow, fromCol, toRow, toCol, board, false); break;\n    case \"â™–\": case \"â™œ\": validMove = isValidRookMove(fromRow, fromCol, toRow, toCol, board); break;\n    case \"â™˜\": case \"â™ž\": validMove = isValidKnightMove(toCol - fromCol, toRow - fromRow); break;\n    case \"â™—\": case \"â™\": validMove = isValidBishopMove(fromRow, fromCol, toRow, toCol, board); break;\n    case \"â™•\": case \"â™›\": validMove = isValidQueenMove(fromRow, fromCol, toRow, toCol, board); break;\n    case \"â™”\": case \"â™š\": validMove = isValidKingMove(toCol - fromCol, toRow - fromRow); break;\n    default: return false;\n  }\n\n  if (validMove) {\n    const newBoard = board.map(row => [...row]);\n    newBoard[toRow][toCol] = piece;\n    newBoard[fromRow][fromCol] = \"\";\n\n    if (isKingInCheck(newBoard, isWhite)) return false;\n    return true;\n  }\n\n  return false;\n};\n\n// âœ… Di chuyá»ƒn quÃ¢n cá» & Ä‘á»•i lÆ°á»£t\nexport const movePiece = (fromRow, fromCol, toRow, toCol, board) => {\n  console.log(\"ðŸŸ¢ LÆ°á»£t chÆ¡i hiá»‡n táº¡i:\", currentTurn ? \"Tráº¯ng\" : \"Äen\");\n  console.log(\"ðŸŸ¢ QuÃ¢n cá» Ä‘ang di chuyá»ƒn:\", board[fromRow][fromCol]);\n\n  if (isValidMove(board[fromRow][fromCol], fromRow, fromCol, toRow, toCol, board)) {\n    board[toRow][toCol] = board[fromRow][fromCol];\n    board[fromRow][fromCol] = \"\";\n\n    currentTurn = !currentTurn; // âœ… Äá»•i lÆ°á»£t  \n    console.log(\"ðŸ”„ LÆ°á»£t chÆ¡i sau khi Ä‘i:\", currentTurn ? \"Tráº¯ng\" : \"Äen\");\n\n    renderBoard(); // ðŸ”„ Cáº­p nháº­t giao diá»‡n  \n  } else {\n    console.log(\"âŒ NÆ°á»›c Ä‘i khÃ´ng há»£p lá»‡!\");\n  }\n};\n\n// âœ… Kiá»ƒm tra tá»‘t (Pawn)\nconst isValidPawnMove = (fromRow, fromCol, toRow, toCol, board, isWhite) => {\n  const direction = isWhite ? -1 : 1; // Tráº¯ng Ä‘i lÃªn (-1), Äen Ä‘i xuá»‘ng (+1)\n  const startRow = isWhite ? 6 : 1;\n  const dy = toRow - fromRow;\n  const dx = Math.abs(toCol - fromCol);\n  const targetPiece = board[toRow][toCol];\n\n  if (dx === 0 && !targetPiece) { // Äi tháº³ng\n    if (dy === direction) return true;\n    if (fromRow === startRow && dy === 2 * direction && !board[fromRow + direction][toCol]) {\n      return true;\n    }\n  }\n\n  if (dx === 1 && dy === direction && targetPiece) return true; // Ä‚n chÃ©o\n\n  return false;\n};\n\n// âœ… Kiá»ƒm tra Xe (Rook)\nconst isValidRookMove = (fromRow, fromCol, toRow, toCol, board) => {\n  if (fromRow !== toRow && fromCol !== toCol) return false;\n  return isPathClear(fromRow, fromCol, toRow, toCol, board);\n};\n\n// âœ… Kiá»ƒm tra MÃ£ (Knight)\nconst isValidKnightMove = (dx, dy) => {\n  return (Math.abs(dx) === 2 && Math.abs(dy) === 1) || (Math.abs(dx) === 1 && Math.abs(dy) === 2);\n};\n\n// âœ… Kiá»ƒm tra TÆ°á»£ng (Bishop)\nconst isValidBishopMove = (fromRow, fromCol, toRow, toCol, board) => {\n  if (Math.abs(fromRow - toRow) !== Math.abs(fromCol - toCol)) return false;\n  return isPathClear(fromRow, fromCol, toRow, toCol, board);\n};\n\n// âœ… Kiá»ƒm tra Háº­u (Queen)\nconst isValidQueenMove = (fromRow, fromCol, toRow, toCol, board) => {\n  return isValidRookMove(fromRow, fromCol, toRow, toCol, board) || isValidBishopMove(fromRow, fromCol, toRow, toCol, board);\n};\n\n// âœ… Kiá»ƒm tra Vua (King)\nconst isValidKingMove = (dx, dy) => {\n  return Math.abs(dx) <= 1 && Math.abs(dy) <= 1;\n};\n\n// âœ… Kiá»ƒm tra Ä‘Æ°á»ng Ä‘i cÃ³ bá»‹ cháº·n khÃ´ng\nconst isPathClear = (fromRow, fromCol, toRow, toCol, board) => {\n  const dx = Math.sign(toCol - fromCol);\n  const dy = Math.sign(toRow - fromRow);\n  let x = fromCol + dx;\n  let y = fromRow + dy;\n\n  while (x !== toCol || y !== toRow) {\n    if (board[y][x] !== \"\") return false;\n    x += dx;\n    y += dy;\n  }\n\n  return true;\n};\n\n// âœ… TÃ¬m vá»‹ trÃ­ cá»§a Vua\nconst findKingPosition = (board, isWhite) => {\n  const king = isWhite ? \"â™”\" : \"â™š\";\n  for (let row = 0; row < 8; row++) {\n    for (let col = 0; col < 8; col++) {\n      if (board[row][col] === king) return { row, col };\n    }\n  }\n  return null;\n};\n\n// âœ… Kiá»ƒm tra Vua cÃ³ bá»‹ chiáº¿u khÃ´ng\nconst isKingInCheck = (board, isWhite) => {\n  const kingPos = findKingPosition(board, isWhite);\n  if (!kingPos) return false;\n\n  const { row: kingRow, col: kingCol } = kingPos;\n\n  for (let row = 0; row < 8; row++) {\n    for (let col = 0; col < 8; col++) {\n      const piece = board[row][col];\n      if (!piece) continue;\n\n      const isEnemy = \"â™™â™–â™˜â™—â™•â™”\".includes(piece) !== isWhite;\n      if (isEnemy && isValidMove(piece, row, col, kingRow, kingCol, board)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}