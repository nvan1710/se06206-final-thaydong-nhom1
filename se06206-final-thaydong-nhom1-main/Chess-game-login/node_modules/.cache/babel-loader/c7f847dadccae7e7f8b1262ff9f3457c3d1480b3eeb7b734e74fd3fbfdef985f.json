{"ast":null,"code":"var _jsxFileName = \"D:\\\\se06206-final-thaydong-nhom1-main\\\\se06206-final-thaydong-nhom1-main\\\\Chess-game-login\\\\src\\\\components\\\\ChessBoard.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport useSound from 'use-sound';\nimport { io } from 'socket.io-client';\nimport { bb, bk, bn, bp, bq, br, wb, wk, wn, wp, wq, wr, move, check, capture, castle, gameOver } from '../assets/piece';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst icons = {\n  bb,\n  bk,\n  bn,\n  bp,\n  bq,\n  br,\n  wb,\n  wk,\n  wn,\n  wp,\n  wq,\n  wr\n};\nconst sounds = {\n  move,\n  check,\n  capture,\n  castle,\n  gameOver\n};\nconst socket = await io.connect(\"http://localhost:3001\");\nfunction App() {\n  _s();\n  const tableEnd = useRef(null);\n  let dragged = \"\";\n  const soundboard = {\n    move: useSound(sounds.move)[0],\n    check: useSound(sounds.check)[0],\n    capture: useSound(sounds.capture)[0],\n    castle: useSound(sounds.castle)[0],\n    gameOver: useSound(sounds.gameOver)[0]\n  };\n  const [board, setBoard] = useState(Array(8).fill([null, null, null, null, null, null, null, null]));\n  const [availableMoves, setAvailableMoves] = useState([]);\n  const [selectedSquare, setSelectedSquare] = useState('');\n  const [turn, setTurn] = useState('');\n  const [isCheck, setIsCheck] = useState(false);\n  const [isGameOver, setIsGameOver] = useState([false, {\n    isCheckmate: false,\n    isDraw: false,\n    isStalemate: false\n  }]);\n  const [history, setHistory] = useState([]);\n  const [color, setColor] = useState('');\n  const [gameId, setGameId] = useState('');\n  const [status, setStatus] = useState('lobby');\n  const getMoves = async square => {\n    if (turn === color[0]) {\n      let result = await fetch(`http://localhost:3001/moves?square=${square}&gameId=${gameId}`);\n      let data = await result.json();\n      let moves = data.moves.map(move => move.to);\n      setAvailableMoves(moves);\n    }\n  };\n  useEffect(() => {\n    const handlePosition = data => {\n      setBoard(data.position);\n      setTurn(data.turn);\n      setIsCheck(data.isCheck);\n      setIsGameOver([data.isGameOver, {\n        isCheckmate: data.isCheckmate,\n        isDraw: data.isDraw,\n        isStalemate: data.isStalemate\n      }]);\n      setHistory(data.history);\n    };\n    const handleTerminate = () => {\n      setStatus('lobby');\n      setGameId('');\n      setBoard(Array(8).fill([null, null, null, null, null, null, null, null]));\n      setAvailableMoves([]);\n      setSelectedSquare('');\n      setTurn('');\n      setIsCheck(false);\n      setIsGameOver([false, {\n        isCheckmate: false,\n        isDraw: false,\n        isStalemate: false\n      }]);\n      setHistory([]);\n      setColor('');\n    };\n    socket.on('position', handlePosition);\n    socket.on('color', setColor);\n    socket.on('status', setStatus);\n    socket.on('terminate', handleTerminate);\n    socket.on('gameId', setGameId);\n    socket.on('disconnect', () => {\n      handleTerminate();\n    });\n    return () => {\n      socket.off('position', handlePosition);\n      socket.off('color', setColor);\n      socket.off('status', setStatus);\n      socket.off('terminate', handleTerminate);\n      socket.off('disconnect');\n    };\n  }, []);\n  useEffect(() => {\n    if (history.length > 0) {\n      let lastMove = history[history.length - 1];\n      soundboard[lastMove.type]();\n    }\n    setSelectedSquare('');\n    setAvailableMoves([]);\n  }, [history]);\n  const movePiece = move => {\n    if (turn === color[0]) {\n      socket.emit('move', {\n        gameId: gameId,\n        move: move\n      });\n    }\n  };\n\n  //click\n  const handleSquareClick = e => {\n    let square = e.target.getAttribute('square');\n    if (selectedSquare !== square) {\n      if (availableMoves.includes(square)) {\n        movePiece(`${selectedSquare}${square}`);\n      } else {\n        setSelectedSquare(square);\n        getMoves(square);\n      }\n    } else {\n      setSelectedSquare('');\n      setAvailableMoves([]);\n    }\n  };\n  //drag and drop\n  const handleDragStart = async e => {\n    dragged = e.target.getAttribute('square');\n    let square = dragged;\n    if (selectedSquare !== square) {\n      setSelectedSquare(square);\n      getMoves(square);\n    }\n  };\n  const handleDrop = e => {\n    let square = e.target.getAttribute('square');\n    if (availableMoves.includes(square)) {\n      movePiece(`${selectedSquare}${square}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"absolute flex flex-wrap gap-3 items-center justify-center h-full w-full select-none\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hidden absolute text-white top-0 left-0\",\n      children: [\"status: \", status, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }, this), \"color: \", color, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 23\n      }, this), \"gameId: \", gameId, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }, this), \"turn: \", turn]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), chessBoard({\n      board: board,\n      handleSquareClick: handleSquareClick,\n      handleDragStart: handleDragStart,\n      handleDrop: handleDrop,\n      availableMoves: availableMoves,\n      history: history,\n      isCheck: isCheck,\n      isGameOver: isGameOver,\n      turn: turn,\n      selectedSquare: selectedSquare,\n      color: color\n    }), panel({\n      history: history,\n      tableEnd: tableEnd,\n      socket: socket,\n      status: status,\n      color: color,\n      gameId: gameId\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"3AM0J7YTMb7U/MV8UIMEPE9AQgo=\", false, function () {\n  return [useSound, useSound, useSound, useSound, useSound];\n});\n_c = App;\nfunction chessBoard({\n  board,\n  handleSquareClick,\n  handleDragStart,\n  handleDrop,\n  availableMoves,\n  history,\n  isCheck,\n  isGameOver,\n  turn,\n  selectedSquare,\n  color\n}) {\n  let numToLetter = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"];\n  let boardArr = [];\n  for (let i = 0; i < board.length; i++) {\n    let boardInd = color === 'white' ? i : 7 - i;\n    let row = board[boardInd];\n    for (let j = 0; j < board.length; j++) {\n      let rowInd = color === 'white' ? j : 7 - j;\n      let square = row[rowInd];\n      let bgColor = (rowInd + boardInd) % 2 === 1 ? 'bg-[#B0E0E6]' : 'bg-[#EBECD0]';\n      let textColor = (rowInd + boardInd) % 2 === 0 ? 'text-[#B0E0E6]' : 'text-[#EBECD0]';\n      let coord = `${numToLetter[rowInd]}${8 - boardInd}`;\n      boardArr.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        onDrop: handleDrop,\n        onDragOver: e => {\n          e.preventDefault();\n        },\n        className: `relative square flex flex-col ${bgColor} ${textColor}`,\n        square: coord,\n        onClick: handleSquareClick,\n        children: [rowInd === (color === 'white' ? 0 : 7) && /*#__PURE__*/_jsxDEV(\"div\", {\n          square: coord,\n          className: \"absolute text-xs font-semibold left-[3%]\",\n          children: 8 - boardInd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 54\n        }, this), boardInd === (color === 'white' ? 7 : 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n          square: coord,\n          className: \"absolute text-xs font-semibold self-end right-[5%] top-[69%]\",\n          children: numToLetter[rowInd]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 56\n        }, this), square != null ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: icons[`${square.color}${square.type}`],\n          square: coord,\n          className: \"m-auto z-20 h-[90%] w-[90%]\",\n          onDragStart: handleDragStart,\n          draggable: \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this) : \"\", squareUnderlay({\n          square: square,\n          coord: coord,\n          history: history,\n          availableMoves: availableMoves,\n          isCheck: isCheck,\n          turn: turn,\n          selectedSquare: selectedSquare\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this));\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"board\",\n    className: \"relative grid-rows-8 grid-cols-8 grid grabbable text-black h-[500px] w-[500px]\",\n    children: [boardArr, isGameOver[0] && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bg-zinc-800 bg-opacity-80 h-full w-full flex items-center justify-center z-40\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-light text-white text-center text-4xl\",\n        children: [\"Game Over: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 22\n        }, this), isGameOver[1].isCheckmate ? 'Checkmate' : isGameOver[1].isDraw ? 'Draw' : isGameOver[1].isStalemate ? 'Stalemate' : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n\n//highights squares and displays moves on the board\nfunction squareUnderlay({\n  square,\n  coord,\n  history,\n  availableMoves,\n  isCheck,\n  turn,\n  selectedSquare\n}) {\n  let availableMove = null;\n  let bg = '';\n  if (availableMoves.includes(coord)) {\n    if (square != null) {\n      availableMove = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '4px solid black',\n          borderRadius: '50%',\n          height: '100%',\n          width: '100%',\n          opacity: '0.2'\n        },\n        square: coord\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 23\n      }, this);\n    } else {\n      availableMove = /*#__PURE__*/_jsxDEV(\"div\", {\n        square: coord,\n        className: \"rounded-full bg-black bg-opacity-20 h-[40%] w-[40%]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 23\n      }, this);\n    }\n  }\n  if (history.length > 0) {\n    let lastMove = history[history.length - 1];\n    if (coord === lastMove.from || coord === lastMove.to) {\n      bg = 'bg-yellow-300 bg-opacity-65';\n    }\n  }\n  if (selectedSquare === coord && square != null) {\n    bg = 'bg-yellow-300 bg-opacity-65';\n  }\n  if (square != null && square.type === 'k' && isCheck && square.color === turn) {\n    bg = 'bg-red-600 bg-opacity-70';\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    square: coord,\n    className: `absolute ${bg} z-10 w-full h-full flex items-center justify-center`,\n    children: availableMove\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n}\nfunction controlPanel({\n  history,\n  tableEnd,\n  socket,\n  status,\n  gameId\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-[500px] gap-3 w-96 bg-zinc-700 bg-opacity-90 rounded-xl p-3 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Opponent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-3 grow justify-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: tableEnd,\n        className: \"h-40 overflow-auto bg-zinc-900 bg-opacity-35 rounded-xl p-2 select-text\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"w-3/5 table-auto\",\n          children: history.map((move, i) => {\n            if (i % 2 === 0) {\n              var _history;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"text-center  font-semibold text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"font-normal text-gray-400\",\n                  children: [i / 2 + 1, \".\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: move.san\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: (_history = history[i + 1]) === null || _history === void 0 ? void 0 : _history.san\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this);\n            } else {\n              return;\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"\",\n          onClick: () => {\n            socket.emit('undo', gameId);\n          },\n          children: \"Undo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-2\",\n          onClick: () => {\n            socket.emit('reset', gameId);\n          },\n          children: \"Reset Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-2\",\n        onClick: () => {\n          socket.emit('leave', gameId);\n        },\n        children: \"Leave\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), status === 'waiting' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Waiting for opponent to connect...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 34\n      }, this), status === 'ready' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Connected to Room: \", /*#__PURE__*/_jsxDEV(\"em\", {\n            className: \"text-emerald-700\",\n            children: gameId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"You\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n}\nfunction gameJoinPanel({\n  socket,\n  status,\n  color,\n  gameId\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-[500px] gap-3 w-96 bg-zinc-700 bg-opacity-90 rounded-xl p-3 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-white text-2xl font-bold\",\n        children: \"Game Lobby\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        required: true,\n        id: \"roomInput\",\n        className: \"grow py-1 px-2 rounded-lg\",\n        type: \"text\",\n        placeholder: \"Join or create a room by entering a code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-2\",\n        onClick: () => {\n          if (!document.getElementById('roomInput').reportValidity()) {\n            return;\n          }\n          socket.emit('join', document.getElementById('roomInput').value);\n        },\n        children: \"Join\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-2 hidden\",\n        onClick: () => {\n          socket.emit('leave', gameId);\n        },\n        children: \"Leave\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Color: \", color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Status: \", status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Game: \", gameId]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 310,\n    columnNumber: 5\n  }, this);\n}\n\n//render the correct panel based on the game status\nfunction panel({\n  history,\n  tableEnd,\n  socket,\n  status,\n  color,\n  gameId\n}) {\n  //note tableEnd is a ref, i didnt want to rename it cuz id have to refactor :)\n  if (status === 'lobby' || status === 'fail') {\n    return gameJoinPanel({\n      socket: socket,\n      status: status,\n      color: color,\n      gameId: gameId\n    });\n  } else {\n    return controlPanel({\n      history: history,\n      tableEnd: tableEnd,\n      socket: socket,\n      status: status,\n      gameId: gameId\n    });\n  }\n}\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useRef","useState","useSound","io","bb","bk","bn","bp","bq","br","wb","wk","wn","wp","wq","wr","move","check","capture","castle","gameOver","jsxDEV","_jsxDEV","icons","sounds","socket","connect","App","_s","tableEnd","dragged","soundboard","board","setBoard","Array","fill","availableMoves","setAvailableMoves","selectedSquare","setSelectedSquare","turn","setTurn","isCheck","setIsCheck","isGameOver","setIsGameOver","isCheckmate","isDraw","isStalemate","history","setHistory","color","setColor","gameId","setGameId","status","setStatus","getMoves","square","result","fetch","data","json","moves","map","to","handlePosition","position","handleTerminate","on","off","length","lastMove","type","movePiece","emit","handleSquareClick","e","target","getAttribute","includes","handleDragStart","handleDrop","className","children","fileName","_jsxFileName","lineNumber","columnNumber","chessBoard","panel","_c","numToLetter","boardArr","i","boardInd","row","j","rowInd","bgColor","textColor","coord","push","onDrop","onDragOver","preventDefault","onClick","src","onDragStart","draggable","squareUnderlay","id","availableMove","bg","style","border","borderRadius","height","width","opacity","from","controlPanel","ref","_history","san","gameJoinPanel","required","placeholder","document","getElementById","reportValidity","value","$RefreshReg$"],"sources":["D:/se06206-final-thaydong-nhom1-main/se06206-final-thaydong-nhom1-main/Chess-game-login/src/components/ChessBoard.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react'\r\nimport useSound from 'use-sound'\r\n\r\nimport { io } from 'socket.io-client'\r\n\r\nimport { bb, bk, bn, bp, bq, br, wb, wk, wn, wp, wq, wr, move, check, capture, castle, gameOver } from '../assets/piece'\r\nconst icons = { bb, bk, bn, bp, bq, br, wb, wk, wn, wp, wq, wr }\r\nconst sounds = { move, check, capture, castle, gameOver }\r\n\r\nconst socket = await io.connect(\"http://localhost:3001\")\r\n\r\nfunction App() {\r\n  const tableEnd = useRef(null)\r\n  let dragged = \"\"\r\n  const soundboard = {\r\n    move: useSound(sounds.move)[0],\r\n    check: useSound(sounds.check)[0],\r\n    capture: useSound(sounds.capture)[0],\r\n    castle: useSound(sounds.castle)[0],\r\n    gameOver: useSound(sounds.gameOver)[0]\r\n  }\r\n\r\n  const [board, setBoard] = useState(Array(8).fill([null, null, null, null, null, null, null, null]))\r\n  const [availableMoves, setAvailableMoves] = useState([])\r\n  const [selectedSquare, setSelectedSquare] = useState('')\r\n  const [turn, setTurn] = useState('')\r\n  const [isCheck, setIsCheck] = useState(false)\r\n  const [isGameOver, setIsGameOver] = useState([false, {\r\n    isCheckmate: false,\r\n    isDraw: false,\r\n    isStalemate: false\r\n  }])\r\n  const [history, setHistory] = useState([])\r\n  const [color, setColor] = useState('')\r\n  const [gameId, setGameId] = useState('')\r\n  const [status, setStatus] = useState('lobby')\r\n\r\n  const getMoves = async (square) => {\r\n    if (turn === color[0]) {\r\n      let result = await fetch(`http://localhost:3001/moves?square=${square}&gameId=${gameId}`)\r\n      let data = await result.json()\r\n      let moves = data.moves.map(move => move.to)\r\n      setAvailableMoves(moves)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const handlePosition = (data) => {\r\n      setBoard(data.position)\r\n      setTurn(data.turn)\r\n      setIsCheck(data.isCheck)\r\n      setIsGameOver([data.isGameOver, {\r\n        isCheckmate: data.isCheckmate,\r\n        isDraw: data.isDraw,\r\n        isStalemate: data.isStalemate\r\n      }])\r\n      setHistory(data.history)\r\n    }\r\n\r\n    const handleTerminate = () => {\r\n      setStatus('lobby')\r\n      setGameId('')\r\n      setBoard(Array(8).fill([null, null, null, null, null, null, null, null]))\r\n      setAvailableMoves([])\r\n      setSelectedSquare('')\r\n      setTurn('')\r\n      setIsCheck(false)\r\n      setIsGameOver([false, {\r\n        isCheckmate: false,\r\n        isDraw: false,\r\n        isStalemate: false\r\n      }])\r\n      setHistory([])\r\n      setColor('')\r\n    }\r\n\r\n    socket.on('position', handlePosition)\r\n    socket.on('color', setColor)\r\n    socket.on('status', setStatus)\r\n    socket.on('terminate', handleTerminate)\r\n    socket.on('gameId', setGameId)\r\n    socket.on('disconnect', () => {\r\n      handleTerminate()\r\n    })\r\n\r\n    return () => {\r\n      socket.off('position', handlePosition)\r\n      socket.off('color', setColor)\r\n      socket.off('status', setStatus)\r\n      socket.off('terminate', handleTerminate)\r\n      socket.off('disconnect')\r\n\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (history.length > 0) {\r\n      let lastMove = history[history.length - 1]\r\n      soundboard[lastMove.type]()\r\n    }\r\n    setSelectedSquare('')\r\n    setAvailableMoves([])\r\n  }, [history])\r\n\r\n  const movePiece = (move) => {\r\n    if (turn === color[0]) {\r\n      socket.emit('move', { gameId: gameId, move: move })\r\n    }\r\n  }\r\n\r\n  //click\r\n  const handleSquareClick = (e) => {\r\n    let square = e.target.getAttribute('square')\r\n\r\n    if (selectedSquare !== square) {\r\n      if (availableMoves.includes(square)) {\r\n        movePiece(`${selectedSquare}${square}`)\r\n      } else {\r\n        setSelectedSquare(square)\r\n        getMoves(square)\r\n      }\r\n    } else {\r\n      setSelectedSquare('')\r\n      setAvailableMoves([])\r\n    }\r\n  }\r\n  //drag and drop\r\n  const handleDragStart = async (e) => {\r\n    dragged = e.target.getAttribute('square')\r\n\r\n    let square = dragged\r\n    if (selectedSquare !== square) {\r\n      setSelectedSquare(square)\r\n      getMoves(square)\r\n    }\r\n  }\r\n  const handleDrop = (e) => {\r\n    let square = e.target.getAttribute('square')\r\n\r\n    if (availableMoves.includes(square)) {\r\n      movePiece(`${selectedSquare}${square}`)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='absolute flex flex-wrap gap-3 items-center justify-center h-full w-full select-none'>\r\n      <div className='hidden absolute text-white top-0 left-0'>\r\n        status: {status}<br />\r\n        color: {color}<br />\r\n        gameId: {gameId}<br />\r\n        turn: {turn}\r\n      </div>\r\n      {chessBoard({ board: board, handleSquareClick: handleSquareClick, handleDragStart: handleDragStart, handleDrop: handleDrop, availableMoves: availableMoves, history: history, isCheck: isCheck, isGameOver: isGameOver, turn: turn, selectedSquare: selectedSquare, color: color})}\r\n      {panel({ history: history, tableEnd: tableEnd, socket: socket, status: status, color: color, gameId: gameId })}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction chessBoard({board, handleSquareClick, handleDragStart, handleDrop, availableMoves, history, isCheck, isGameOver, turn, selectedSquare, color}) {\r\n  let numToLetter = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\"]\r\n\r\n  let boardArr = []\r\n\r\n  for(let i = 0; i < board.length; i++) {\r\n    let boardInd = (color === 'white' ? i : 7 - i)\r\n    let row = board[boardInd]\r\n\r\n    for(let j = 0; j < board.length; j++) {\r\n      let rowInd = (color === 'white' ? j : 7 - j)\r\n      let square = row[rowInd]\r\n\r\n      let bgColor = (rowInd + boardInd) % 2 === 1 ? 'bg-[#B0E0E6]' : 'bg-[#EBECD0]'\r\n      let textColor = (rowInd + boardInd) % 2 === 0 ? 'text-[#B0E0E6]' : 'text-[#EBECD0]'\r\n      let coord = `${numToLetter[rowInd]}${8 - boardInd}`\r\n      boardArr.push(\r\n        <div onDrop={handleDrop} onDragOver={(e) => { e.preventDefault(); }} className={`relative square flex flex-col ${bgColor} ${textColor}`} square={coord} onClick={handleSquareClick}>\r\n          {rowInd === (color === 'white' ? 0 : 7) && <div square={coord} className='absolute text-xs font-semibold left-[3%]'>{8 - boardInd}</div>}\r\n          {boardInd === (color === 'white' ? 7 : 0) && <div square={coord} className='absolute text-xs font-semibold self-end right-[5%] top-[69%]'>{numToLetter[rowInd]}</div>}\r\n          {square != null ?\r\n            <img\r\n              src={icons[`${square.color}${square.type}`]}\r\n              square={coord}\r\n              className='m-auto z-20 h-[90%] w-[90%]'\r\n              onDragStart={handleDragStart}\r\n              draggable=\"true\"\r\n            /> : \"\"\r\n          }\r\n          {squareUnderlay({ square: square, coord: coord, history: history, availableMoves: availableMoves, isCheck: isCheck, turn: turn, selectedSquare: selectedSquare })}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"board\" className='relative grid-rows-8 grid-cols-8 grid grabbable text-black h-[500px] w-[500px]'>\r\n      {boardArr}\r\n      {isGameOver[0] && <div className='absolute bg-zinc-800 bg-opacity-80 h-full w-full flex items-center justify-center z-40'>\r\n        <div className='font-light text-white text-center text-4xl'>\r\n          Game Over: <br/>\r\n          {isGameOver[1].isCheckmate ? 'Checkmate' : isGameOver[1].isDraw ? 'Draw' : isGameOver[1].isStalemate ? 'Stalemate' : ''}\r\n        </div>\r\n      </div>}\r\n    </div>\r\n  )\r\n}\r\n\r\n//highights squares and displays moves on the board\r\nfunction squareUnderlay({ square, coord, history, availableMoves, isCheck, turn, selectedSquare }) {\r\n  let availableMove = null\r\n  let bg = ''\r\n  if (availableMoves.includes(coord)) {\r\n    if (square != null) {\r\n      availableMove = <div style={{\r\n        border: '4px solid black',\r\n        borderRadius: '50%',\r\n        height: '100%',\r\n        width: '100%',\r\n        opacity: '0.2'\r\n      }}\r\n        square={coord}\r\n      />\r\n    } else {\r\n      availableMove = <div square={coord} className='rounded-full bg-black bg-opacity-20 h-[40%] w-[40%]' />\r\n    }\r\n  }\r\n\r\n  if (history.length > 0) {\r\n    let lastMove = history[history.length - 1]\r\n    if (coord === lastMove.from || coord === lastMove.to) {\r\n      bg = 'bg-yellow-300 bg-opacity-65'\r\n    }\r\n  }\r\n\r\n  if (selectedSquare === coord && square != null) {\r\n    bg = 'bg-yellow-300 bg-opacity-65'\r\n  }\r\n\r\n  if (square != null && square.type === 'k' && isCheck && square.color === turn) {\r\n    bg = 'bg-red-600 bg-opacity-70'\r\n  }\r\n\r\n  return (\r\n    <div square={coord} className={`absolute ${bg} z-10 w-full h-full flex items-center justify-center`}>\r\n      {availableMove}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction controlPanel({ history, tableEnd, socket, status, gameId }) {\r\n  return (\r\n    <div className='h-[500px] gap-3 w-96 bg-zinc-700 bg-opacity-90 rounded-xl p-3 flex flex-col'>\r\n      <div>\r\n        <p>Opponent</p>\r\n      </div>\r\n      <div className='flex flex-col gap-3 grow justify-center'>\r\n        <div ref={tableEnd} className='h-40 overflow-auto bg-zinc-900 bg-opacity-35 rounded-xl p-2 select-text'>\r\n          <table className='w-3/5 table-auto'>\r\n            {history.map((move, i) => {\r\n              if (i % 2 === 0) {\r\n                return (\r\n                  <tr className='text-center  font-semibold text-sm'>\r\n                    <td className='font-normal text-gray-400'>{i / 2 + 1}.</td>\r\n                    <td>{move.san}</td>\r\n                    <td>{history[i + 1]?.san}</td>\r\n                  </tr>\r\n                )\r\n              } else {\r\n                return\r\n              }\r\n            })}\r\n          </table>\r\n        </div>\r\n        <div className='grid grid-cols-2 gap-2'>\r\n          <button className='' onClick={() => {\r\n            socket.emit('undo', gameId)\r\n          }}>\r\n            Undo\r\n          </button>\r\n          <button\r\n            className='px-2'\r\n            onClick={() => {\r\n              socket.emit('reset', gameId)\r\n            }}\r\n          >Reset Game</button>\r\n        </div>\r\n        <button\r\n          className='px-2'\r\n          onClick={() => {\r\n            socket.emit('leave', gameId)\r\n          }}>\r\n          Leave\r\n        </button>\r\n        {status === 'waiting' && <div>\r\n          <p>Waiting for opponent to connect...</p>\r\n        </div>}\r\n        {status === 'ready' && <div className='text-xs text-gray-500'>\r\n          <p>Connected to Room: <em className='text-emerald-700'>{gameId}</em></p>\r\n        </div>}\r\n      </div>\r\n      <div>\r\n        <p>You</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction gameJoinPanel({ socket, status, color, gameId }) {\r\n\r\n  return (\r\n    <div className='h-[500px] gap-3 w-96 bg-zinc-700 bg-opacity-90 rounded-xl p-3 flex flex-col'>\r\n      <div>\r\n        <p className='text-center text-white text-2xl font-bold'>Game Lobby</p>\r\n      </div>\r\n      <div className='flex gap-2 text-sm'>\r\n        <input required id=\"roomInput\" className='grow py-1 px-2 rounded-lg' type='text' placeholder='Join or create a room by entering a code' />\r\n        <button\r\n          className='px-2'\r\n          onClick={() => {\r\n            if(!document.getElementById('roomInput').reportValidity()) {\r\n              return\r\n            }\r\n            socket.emit('join', document.getElementById('roomInput').value)\r\n          }}>\r\n          Join\r\n        </button>\r\n        <button\r\n          className='px-2 hidden'\r\n          onClick={() => {\r\n            socket.emit('leave', gameId)\r\n          }}>\r\n          Leave\r\n        </button>\r\n      </div>\r\n      <div className='hidden'>\r\n        <p>Color: {color}</p>\r\n        <p>Status: {status}</p>\r\n        <p>Game: {gameId}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n//render the correct panel based on the game status\r\nfunction panel({ history, tableEnd, socket, status, color, gameId }) {\r\n  //note tableEnd is a ref, i didnt want to rename it cuz id have to refactor :)\r\n  if (status === 'lobby' || status === 'fail') {\r\n    return (gameJoinPanel({ socket: socket, status: status, color: color, gameId: gameId }))\r\n  } else {\r\n    return (controlPanel({ history: history, tableEnd: tableEnd, socket: socket, status: status, gameId: gameId }))\r\n  }\r\n}\r\n\r\nexport default App\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}